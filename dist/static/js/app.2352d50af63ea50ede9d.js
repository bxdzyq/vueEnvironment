webpackJsonp([1],{"/wAz":function(e,t){},"3vVT":function(e,t){},"8ju5":function(e,t){},"8tHC":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAMAAAC93eDPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABLUExURf///+7u7t3d3czMzMjn9UKu3bbf8h2e1hab1VS24N7x+W7B5en2+6fZ7zep22O843zH6CGg16DW7vD5/JXR7ITK6ejo6NfX1wAAAELYkCoAAAAZdFJOU////////////////////////////////wABNAq3AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD5UlEQVR4Xu2cjXLiMAyEE+AY2hmgXK/v/6on2WsiO4rjmMhhpvlupiiJ6G5kxfnhSldL3x8cR/rH9D02NIF0J2hhhPYdapMcDsg1YVY+YOSix68vZHUX8/VXWLMvFhZgYC0T1QaYNUxUDYGk6Xyxs7Ozs6PRM4g3IZxLTC+acsjT6TaViE+nW3hILyk28ADlAaxvx/iqpnkZoCvBlmZAVoItrdCub7GpFZqFxs3wBlVYqxdeqRxkBQUnirHgK2eX8UgU7NCoUH2+dKc/Z0Qq6dxUsj+jpPzonS+Xy8cnFjQgHcDaLGkWlRKRxokcXC6P+zeWx8RDgZV50tHKvo9r4LlijcIwFoVdRZmIHLwTCMecHjBA3KZbArfgh9JDi3JlKr8b4YihBo57riWWwH4REm4kEaf4PpB8le5nHtYcflPGQlIDx+MvNr4Eaw5tw0u6BdkHgkxLFBOJ+iMKCxFaDTzZWaIIJxpGwrcyFiTjPhC82hJONIyEW1AsTNfA8cjMEgVEqtHCwEQfCF5qCa/qS4l5zcWCmRp4XmgJr+pHQreQ7QNBdUt4VS8r4ydFNXDMzBL91LlNyIaTnFsfmO8DwWRL9Of7jTbfr5oNyHIRNQvlNfAoLdFfWT5wu59TG5DlZkArSAulfSCIWsLvfcqfuBqQZV1EwsLSGjhCS8R7nyKqAVnVwqI+ENzO+t6noBqQ1SxU1WAppANZ6sfQjcFCRR9UQEKQHVtoUoPIwuF5QHgLtX2wlGkLjWoQWTjGFpBgj7CQVAEJ9ggLRxFtZmGvArFbYN6hF/Z5gdirQLyFheh6AQn2CAvJJQsS7IksPMNfbIHC0I+/1wLf0Ml7SiTYM1hwN4KIN7LAsmEkOESCPaTlVd/Agn/Qg2bgEAn2kJZXxTMBv8AREux5qsKCHwmOkGAPaTlR3wphJDhCgj2k5URRBCxxgAR7pKjDjQQHSLCHtFgzPILGSHCABHtIizWf4+AX+RUJ9ghNwGXgVyTYQ1okOYwDsY0FlnxCZeAXJNhDWkkReAX/RII9T0XBob2FpAi0hn8gwZ4gGOEOUSTYQ1qjIniQYA/0FJBgD/QUkGAP9BSQYA/0FJBgD/QUkGDOF/QUPpBizA1yGt8Fn+usgLhMGPOJJFNOEJugwedCsx/4X5Foxg+EMhh7KHDQdV9INuEOkRn+Id2AQgdd94M3rE7RKHiM+mGBA6Njc+F/vzGYo2ZmJIWVzxe37Kw8waoHxqI22HlP8Dyunon7hUWEh9RVrGGAqTaxlgGmysSaBpjFf+ZbMxXNUt6Zln93X1IL+68fyH75QMOvYeAvgDhKK9VfAtF1/wG33PlMIvy1hQAAAABJRU5ErkJggg=="},"9wIH":function(e,t,a){"use strict";var i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};t.a=i},BnsT:function(e,t){},L1O7:function(e,t){},L9Px:function(e,t){},M93x:function(e,t,a){"use strict";var i=a("xJD8"),l=a.n(i),n=a("9wIH");var o=function(e){a("PlDz")},r=a("VU/8")(l.a,n.a,!1,o,null,null);t.default=r.exports},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),l=a("M93x"),n=a("zL8q"),o=a.n(n),r=(a("tvR6"),a("/wAz"),a("/ocq")),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),a("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),a("br"),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},s,!1,function(e){a("8ju5")},"data-v-d8ec41bc",null).exports;var c={name:"App",data:function(){var e=this;return{count:"网格管理",dialogFormVisible:!1,formData:{username:"",mobile:"",mailbox:"",password:"",repassword:"",email:""},formLabelWidth:"120px",rules:{username:[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入用户名")):/^(?![^A-Za-z]+$)(?![^0-9]+$)[0-9A-Za-z_]{4,15}$/.test(t)||a(new Error("用户名可以为数字、字母、下划线的组合，长度为4-15个字符"))},trigger:"blur"}],password:[{required:!0,validator:function(t,a,i){""===a?i(new Error("请输入密码")):/^[a-zA-Z0-9]\w{6,20}$/.test(a)?(""!==e.formData.repassword&&e.$refs.ruleForm.validateField("repassword"),i()):i(new Error("密码长度在6~20之间，只能包含字母、数字和下划线"))},trigger:"blur"}],repassword:[{required:!0,validator:function(t,a,i){""===a?i(new Error("请输入确认密码")):a!==e.formData.password?i(new Error("两次输入密码不一致！")):i()},trigger:"blur"}],mobile:[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入手机号码")):/^1[3|5|7|8][0-9]\d{8}$/.test(t)||a(new Error("请填写正确的手机号码"))},trigger:"blur"},{min:11,max:11,trigger:"blur"}],email:[{required:!0,message:"必填",trigger:"blur"},{type:"email",message:"请输入正确的邮箱！",trigger:"blur"}]}}},methods:{GridCli:function(){this.count="网格信息管理"},IndexCli:function(){this.count="测试用例"},EquipCli:function(){this.count="设备信息管理"},AnalyCli:function(){this.count="环境数据显示"},HisCli:function(){this.count="历史信息统计"},StaCli:function(){this.count="单项信息统计"},AlarmCli:function(){this.count="报警信息管理"},LargeCli:function(){this.count="大屏显示"},LogCli:function(){this.count="日志管理"},UserCli:function(){this.count="用户管理"},onBack:function(){}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Home"}},[i("div",{staticClass:"header"},[e._m(0),e._v(" "),i("div",{staticClass:"rightitle"},[e._v(e._s(e.count))]),e._v(" "),i("div",{staticClass:"user"},[e._v("一级用户")]),e._v(" "),i("div",{staticClass:"set",staticStyle:{"border-left":"2px dashed #000","border-right":"2px dashed #000"},on:{click:function(t){e.dialogFormVisible=!0}}},[i("i",{staticClass:"iconfont icon-gerenshezhi"}),e._v(" 个人设置")]),e._v(" "),i("div",{staticClass:"back"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onBack}},[e._v("退出登录")])],1),e._v(" "),i("el-dialog",{attrs:{title:"个人设置",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.formData,"label-position":"left","label-width":"100px"}},[i("el-form-item",{attrs:{label:"用户名",prop:"username"}},[i("el-input",{attrs:{type:"text",disabled:"update"===e.dialogStatus},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"password"}},[i("el-input",{attrs:{type:"password",autocomplete:"off","show-password":""},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"确认密码",prop:"repassword"}},[i("el-input",{attrs:{type:"password",autocomplete:"off","show-password":""},model:{value:e.formData.repassword,callback:function(t){e.$set(e.formData,"repassword",t)},expression:"formData.repassword"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[i("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1),e._v(" "),i("div",{staticClass:"containter"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:a("8tHC"),alt:""}}),e._v(" "),i("div",{staticClass:"leftnav"},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#00284d","text-color":"#fff","active-text-color":"#1296db",router:!0},on:{open:e.handleOpen,close:e.handleClose}},[i("el-menu-item",{attrs:{index:"/GridManage"},on:{click:e.GridCli}},[i("span",{staticClass:"iconfont icon-wangge"},[e._v(" 网格信息管理")])]),e._v(" "),i("el-menu-item",{attrs:{index:"/EquipManage"},on:{click:e.EquipCli}},[i("span",{staticClass:"iconfont icon-shebei"},[e._v(" 设备信息管理")])]),e._v(" "),i("el-submenu",[i("template",{slot:"title"},[i("span",{staticClass:"iconfont icon-huanjing"},[e._v(" 环境数据分析")])]),e._v(" "),i("el-menu-item-group",[i("el-menu-item",{attrs:{index:"/DataAnalysis"},on:{click:e.AnalyCli}},[e._v("环境数据显示")]),e._v(" "),i("el-menu-item",{attrs:{index:"/DataHis"},on:{click:e.HisCli}},[e._v("历史信息统计")]),e._v(" "),i("el-menu-item",{attrs:{index:"/DataSta"},on:{click:e.StaCli}},[e._v("单项信息统计")])],1)],2),e._v(" "),i("el-menu-item",{attrs:{index:"/AlarmManage"},on:{click:e.AlarmCli}},[i("span",{staticClass:"iconfont icon-baojing"},[e._v(" 报警信息管理")])]),e._v(" "),i("el-menu-item",{attrs:{index:"/LargeScreen"},on:{click:e.LargeCli}},[i("span",{staticClass:"iconfont icon-daping"},[e._v(" 大屏展示")])]),e._v(" "),i("el-menu-item",{attrs:{index:"/LogManage"},on:{click:e.LogCli}},[i("span",{staticClass:"iconfont icon-rizhi"},[e._v(" 日志管理")])]),e._v(" "),i("el-menu-item",{attrs:{index:"/UserManage"},on:{click:e.UserCli}},[i("span",{staticClass:"iconfont icon-yonghuguanli"},[e._v(" 用户管理")])])],1)],1)]),e._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"center"},[i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[i("router-view")],1)],1),e._v(" "),i("div",{staticClass:"footer"})])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"leftitle"},[this._v("环境监测云平台  "),t("img",{attrs:{src:a("qJcr"),alt:"云",width:"38",height:"28"}})])}]};var m=a("VU/8")(c,d,!1,function(e){a("gyiw")},"data-v-862133c6",null).exports,u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"UserManage"}},[a("div",{staticClass:"table1"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.size,e.currentPage*e.size),"tooltip-effect":"dark",height:"300",border:"",span:24,"row-style":{height:"25px"},"header-row-style":{height:"25px"},"cell-style":{padding:"0px"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.name))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"性别",prop:"sex"}}),e._v(" "),a("el-table-column",{attrs:{label:"电话",prop:"phoneNumber"}}),e._v(" "),a("el-table-column",{attrs:{label:"邮箱",prop:"mail",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限",prop:"permission"}}),e._v(" "),a("el-table-column",{attrs:{label:"冻结状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{icon:"Iconfont icon-icon-weather-snowflake",size:"mini"},on:{click:function(a){return e.handleFrozen(t.row)}}},[e._v("修改("+e._s(t.row.frozenCondition)+"）")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"block1",staticStyle:{"margin-left":"0"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticClass:"search",staticStyle:{left:"700px",top:"10px",position:"absolute"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"delete"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.handleDelete}},[e._v("批量删除")])],1),e._v(" "),a("div",{staticClass:"addition"},[a("el-button",{attrs:{type:"info",plain:""},on:{click:e.handleAddition}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"form1"},[a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入设备编号",disabled:e.formForbid},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择类型",disabled:e.formForbid},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"电话","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入网格名称",disabled:e.formForbid},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入管理员",disabled:e.formForbid},model:{value:e.form.mail,callback:function(t){e.$set(e.form,"mail",t)},expression:"form.mail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择类型"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}},[a("el-option",{attrs:{label:"二级用户",value:"二级用户"}}),e._v(" "),a("el-option",{attrs:{label:"三级用户",value:"三级用户"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.BtnOk}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("div",{staticClass:"v1"},[e._v("用户总数：")]),e._v(" "),a("div",{staticClass:"c1"},[e._v(e._s(e.totalUser))]),e._v(" "),a("div",{staticClass:"v2"},[e._v("二级用户数：")]),e._v(" "),a("div",{staticClass:"c2"},[e._v(e._s(e.totalUser2))]),e._v(" "),a("div",{staticClass:"v3"},[e._v("三级用户数：")]),e._v(" "),a("div",{staticClass:"c3"},[e._v(e._s(e.totalUser3))])])},staticRenderFns:[]};var v=a("VU/8")({data:function(){return{formForbid:!0,totalUser:"",totalUser2:"",totalUser3:"",chooseName:"",title:"",currentPage:1,size:10,tableData:[{name:"aaa",sex:"女",phoneNumber:"13111111111",mail:"zhang456@163.com",permission:"二级用户",frozenCondition:"未冻结"},{name:"bbb",sex:"女",phoneNumber:"15222222222",mail:"wang456@163.com",permission:"二级用户",frozenCondition:"未冻结"},{name:"ccc",sex:"男",phoneNumber:"18333333333",mail:"2533534326@qq.com",permission:"二级用户",frozenCondition:"未冻结"},{name:"ddd",sex:"女",phoneNumber:"17444444444",mail:"zhao456@163.com",permission:"二级用户",frozenCondition:"未冻结"},{name:"eee",sex:"女",phoneNumber:"15555555555",mail:"deng456@163.com",permission:"二级用户",frozenCondition:"未冻结"},{name:"fff",sex:"男",phoneNumber:"13666666666",mail:"zou456@163.com",permission:"二级用户",frozenCondition:"未冻结"},{name:"ggg",sex:"男",phoneNumber:"13777777777",mail:"yao456@163.com",permission:"二级用户",frozenCondition:"未冻结"},{name:"hhh",sex:"男",phoneNumber:"18888888888",mail:"huang456@163.com",permission:"二级用户",frozenCondition:"未冻结"},{name:"iii",sex:"女",phoneNumber:"13999999999",mail:"456@564",permission:"二级用户",frozenCondition:"未冻结"},{name:"jjj",sex:"男",phoneNumber:"13000000000",mail:"luo456@163.com",permission:"二级用户",frozenCondition:"未冻结"},{name:"kkk",sex:"男",phoneNumber:"15234567891",mail:"129595456@qq.com",permission:"二级用户",frozenCondition:"未冻结"},{name:"lll",sex:"女",phoneNumber:"17345678910",mail:"1481456@qq.com",permission:"三级用户",frozenCondition:"未冻结"},{name:"mmm",sex:"女",phoneNumber:"18345678911",mail:"1418456@163.com",permission:"二级用户",frozenCondition:"未冻结"}],dialogFormVisible:!1,form:{name:"",sex:"",phoneNumber:"",mail:"",permission:""},formLabelWidth:"80px"}},methods:{handleSearch:function(){this.totalUser=this.tableData.length,this.totalUser2=0,this.totalUser3=this.totalUser;for(var e=0;e<this.tableData.length;e++)"二级用户"==this.tableData[e].permission&&(this.totalUser2++,this.totalUser3--)},handleSizeChange:function(e){this.size=e},handleCurrentChange:function(e){this.currentPage=e},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e){this.title="编辑",this.dialogFormVisible=!0,this.formForbid=!0,this.form=e,this.chooseName=e.name},handleFrozen:function(e){var t=this;this.$confirm("此操作将改变该用户冻结状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var a=0;a<t.tableData.length;a++)if(t.tableData[a].name==e.name){if("已冻结"==e.frozenCondition)var i="未冻结";"未冻结"==e.frozenCondition&&(i="已冻结"),e.frozenCondition=i,t.tableData.splice(a,1,e)}t.$message({type:"success",message:"修改成功!"})}).catch(function(){t.$message({type:"info",message:"已取消修改"})})},handleDelete:function(){var e=this;this.$confirm("此操作将删除所有选中的用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t=0;t<e.multipleSelection.length;t++)for(var a=0;a<e.tableData.length;a++)e.tableData[a].name==e.multipleSelection[t].name&&e.tableData.splice(a,1);e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleAddition:function(){this.title="添加",this.dialogFormVisible=!0,this.formForbid=!1,this.form={}},BtnOk:function(){if("添加"==this.title&&this.tableData.push(this.form),"编辑"==this.title)for(var e=0;e<this.tableData.length;e++)this.chooseName==this.tableData[e].name&&this.tableData.splice(e,1,this.form);this.dialogFormVisible=!1}}},u,!1,function(e){a("3vVT")},null,null).exports,p={props:["count"],data:function(){return{totalStation:80,runningStation:50,stoppingStation:30,chooseID:"",title:"",currentPage:1,size:10,tableData:[{id:"1",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"2",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"3",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"4",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"5",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"6",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"7",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"8",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"9",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"10",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"11",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"12",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"},{id:"13",name:"网格AA",condition:"工作中",administrator:"王小咩",type:"街道",company:"单位BB",address:"CCCCCCCCCCCCCCCCCCCC"}],dialogFormVisible:!1,form:{id:"",name:"",administrator:"",address:"",company:"",type:"",condition:""},formLabelWidth:"80px"}},methods:{handleSizeChange:function(e){this.size=e},handleCurrentChange:function(e){this.currentPage=e},handleSelectionChange:function(e){this.multipleSelection=e,console.log(this.multipleSelection[1])},handleEdit:function(e){console.log(e),this.title="编辑",this.dialogFormVisible=!0,this.form=e,this.chooseID=e.id},handleDelete:function(){var e=this;this.$confirm("此操作将删除所有选中的网格, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t=0;t<e.multipleSelection.length;t++)for(var a=0;a<e.tableData.length;a++)e.tableData[a].id==e.multipleSelection[t].id&&e.tableData.splice(a,1);e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleAddition:function(){this.title="添加",this.dialogFormVisible=!0,this.form={}},BtnOk:function(){if("添加"==this.title&&(console.log(this.form),this.tableData.push(this.form),console.log(this.tableData)),"编辑"==this.title){console.log(this.chooseID);for(var e=0;e<this.tableData.length;e++)this.chooseID==this.tableData[e].id&&this.tableData.splice(e,1,this.form)}this.dialogFormVisible=!1}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"GridManage"}},[a("div",{staticClass:"table1"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.size,e.currentPage*e.size),"tooltip-effect":"dark",height:"300",border:"",span:24,"row-style":{height:"25px"},"header-row-style":{height:"25px"},"cell-style":{padding:"0px"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"相关单位"}},[a("span",[e._v(e._s(t.row.company))])]),e._v(" "),a("el-form-item",{attrs:{label:"详细地址"}},[a("span",[e._v(e._s(t.row.address))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"网格编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.id))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"网格名称",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"condition"}}),e._v(" "),a("el-table-column",{attrs:{label:"管理员",prop:"administrator"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",prop:"type"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"block1",staticStyle:{"margin-left":"0"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticClass:"delete"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.handleDelete}},[e._v("批量删除")])],1),e._v(" "),a("div",{staticClass:"addition"},[a("el-button",{attrs:{type:"info",plain:""},on:{click:e.handleAddition}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"form1"},[a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"网格编号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入网格编号"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网格名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入网格名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"管理员","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入管理员"},model:{value:e.form.administrator,callback:function(t){e.$set(e.form,"administrator",t)},expression:"form.administrator"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"详细地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"相关单位","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入相关单位"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网格类型","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{label:"化工厂",value:"化工厂"}}),e._v(" "),a("el-option",{attrs:{label:"建筑工地",value:"建筑工地"}}),e._v(" "),a("el-option",{attrs:{label:"发电厂",value:"发电厂"}}),e._v(" "),a("el-option",{attrs:{label:"街道",value:"街道"}}),e._v(" "),a("el-option",{attrs:{label:"搅拌站",value:"搅拌站"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"网格状态","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择网格状态"},model:{value:e.form.condition,callback:function(t){e.$set(e.form,"condition",t)},expression:"form.condition"}},[a("el-option",{attrs:{label:"工作中",value:"工作中"}}),e._v(" "),a("el-option",{attrs:{label:"已结束",value:"已结束"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.BtnOk}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("div",{staticClass:"v1"},[e._v("站点总数：")]),e._v(" "),a("div",{staticClass:"c1"},[e._v(e._s(e.totalStation))]),e._v(" "),a("div",{staticClass:"v2"},[e._v("站点总数：")]),e._v(" "),a("div",{staticClass:"c2"},[e._v(e._s(e.runningStation))]),e._v(" "),a("div",{staticClass:"v3"},[e._v("站点总数：")]),e._v(" "),a("div",{staticClass:"c3"},[e._v(e._s(e.stoppingStation))])])},staticRenderFns:[]};var h=a("VU/8")(p,f,!1,function(e){a("s0SM")},"data-v-1384b4b5",null).exports,b=a("mtWM"),_=a.n(b);_.a.defaults.baseURL="http://47.97.220.22:8000",_.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var g=_.a,C={data:function(){return{device_id:{},formForbid:!0,formInline:{},chooseID:"",title:"",currentPage:1,size:10,tableData:[],dialogFormVisible:!1,form:{device_passw:"",device_AQIt:"",device_pm25t:"",device_f:"",device_name:"",device_id:{device_id:"",grid_id:""}},formLabelWidth:"80px"}},created:function(){this.getAllData()},methods:{getAllData:function(){var e=this;g.get("/device/").then(function(t){e.tableData=t.data.data.results;for(var a=0;a<e.tableData.length;a++)1==e.tableData[a].device_id.is_enable?e.tableData[a].device_id.is_enable="正常":e.tableData[a].device_id.is_enable="故障"}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})});g.get("/device/querydevice").then(function(t){e.formInline=t.data.data}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})})},handleSizeChange:function(e){this.size=e},handleCurrentChange:function(e){this.currentPage=e},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e){this.title="编辑",this.dialogFormVisible=!0,this.formForbid=!0,this.form=e},handleEdit2:function(e){var t=this;this.$confirm("此操作将改变该设备绑定状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){g.delete("/device/DeviceBind2",e.device_id.device_id).then(function(e){t.getAllData()}).catch(function(e){t.$notify.error({title:"失败",message:"修改失败"})}),t.$message({type:"success",message:"修改成功!"})}).catch(function(){t.$message({type:"info",message:"已取消修改"})})},handleDelete:function(){var e=this;this.$confirm("此操作将删除所有选中的网格, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t=0;t<e.multipleSelection.length;t++)g.delete("/device/DeviceDelete?device_id="+e.multipleSelection[t].device_id.device_id).then(function(t){e.getAllData()}).catch(function(t){e.$notify.error({title:"失败",message:"修改失败"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleAddition:function(){this.title="添加",this.dialogFormVisible=!0,this.formForbid=!1,this.form={device_passw:"",device_AQIt:"",device_pm25t:"",device_f:"",device_name:"",device_id:{device_id:"",grid_id:""}}},BtnOk:function(){var e=this;"添加"==this.title&&g.post("/device/",this.form).then(function(t){e.getAllData()}).catch(function(t){e.$notify.error({title:"失败",message:"添加失败"})}),"编辑"==this.title&&g.put("/device/DeviceUpdate",{device_id:this.form.device_id.device_id,device_name:this.form.device_name,device_AQIt:this.form.device_AQIt,device_pm25t:this.form.device_pm25t,device_f:this.form.device_f}).then(function(t){e.getAllData()}).catch(function(t){e.$notify.error({title:"失败",message:"编辑失败"})}),this.dialogFormVisible=!1}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"EquipManage"}},[a("div",{staticClass:"table1"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.size,e.currentPage*e.size),"tooltip-effect":"dark",height:"300",border:"",span:24,"row-style":{height:"25px"},"header-row-style":{height:"25px"},"cell-style":{padding:"0px"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.device_id.device_id))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"工作状态",prop:"device_id.is_enable"}}),e._v(" "),a("el-table-column",{attrs:{label:"网格编号",prop:"device_id.grid_id.grid_id"}}),e._v(" "),a("el-table-column",{attrs:{label:"位置",prop:"device_id.grid_id.grid_address"}}),e._v(" "),a("el-table-column",{attrs:{label:"AQI阈值",prop:"device_AQIt"}}),e._v(" "),a("el-table-column",{attrs:{label:"PM2.5阈值",prop:"device_pm25t"}}),e._v(" "),a("el-table-column",{attrs:{label:"绑定状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit2(t.row)}}},[e._v("修改("+e._s(t.row.device_id.is_bind)+"）\n      ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"block1",staticStyle:{"margin-left":"0"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticClass:"delete"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.handleDelete}},[e._v("批量删除")])],1),e._v(" "),a("div",{staticClass:"addition"},[a("el-button",{attrs:{type:"info",plain:""},on:{click:e.handleAddition}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"form1"},[a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"设备编号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入设备编号",disabled:e.formForbid},model:{value:e.form.device_id.device_id,callback:function(t){e.$set(e.form.device_id,"device_id",t)},expression:"form.device_id.device_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备密码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"password",placeholder:"请输入设备密码",disabled:e.formForbid},model:{value:e.form.device_passw,callback:function(t){e.$set(e.form,"device_passw",t)},expression:"form.device_passw"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"AQI阈值","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入AQI阈值"},model:{value:e.form.device_AQIt,callback:function(t){e.$set(e.form,"device_AQIt",t)},expression:"form.device_AQIt"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"MP2.5阈值","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入MP2.5阈值"},model:{value:e.form.device_pm25t,callback:function(t){e.$set(e.form,"device_pm25t",t)},expression:"form.device_pm25t"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"心跳包频率","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入心跳包频率"},model:{value:e.form.device_f,callback:function(t){e.$set(e.form,"device_f",t)},expression:"form.device_f"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.form.device_name,callback:function(t){e.$set(e.form,"device_name",t)},expression:"form.device_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网格编号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入网格编号",disabled:e.formForbid},model:{value:e.form.device_id.grid_id,callback:function(t){e.$set(e.form.device_id,"grid_id",t)},expression:"form.device_id.grid_id"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.BtnOk}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("div",{staticClass:"v1"},[e._v("设备总数：")]),e._v(" "),a("div",{staticClass:"c1"},[e._v(e._s(e.formInline.设备总数))]),e._v(" "),a("div",{staticClass:"v2"},[e._v("故障总数：")]),e._v(" "),a("div",{staticClass:"c2"},[e._v(e._s(e.formInline.故障设备))]),e._v(" "),a("div",{staticClass:"v3"},[e._v("超限总数：")]),e._v(" "),a("div",{staticClass:"c3"},[e._v(e._s(e.formInline.超限设备数))])])},staticRenderFns:[]};var w=a("VU/8")(C,y,!1,function(e){a("L9Px")},"data-v-99463814",null).exports,x={data:function(){return{formInline:{},currentPage:1,size:10,tableData:[]}},created:function(){this.getAllData()},methods:{getAllData:function(){var e=this;g.get("/devicehis/环境数据显示").then(function(t){e.tableData=t.data}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})});g.get("/grid/Grids").then(function(t){e.formInline=t.data.data}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})})},handleSizeChange:function(e){this.size=e},handleCurrentChange:function(e){this.currentPage=e}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"DataAnalysis"}},[a("div",{staticClass:"table1"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.size,e.currentPage*e.size),"tooltip-effect":"dark",height:"300",border:"",span:24,"row-style":{height:"25px"},"header-row-style":{height:"25px"},"cell-style":{padding:"0px"}}},[a("el-table-column",{attrs:{label:"设备编号",prop:"device_id"}}),e._v(" "),a("el-table-column",{attrs:{label:"网格编号",prop:"grid_id"}}),e._v(" "),a("el-table-column",{attrs:{label:"AQI",prop:"devdata_AQI"}}),e._v(" "),a("el-table-column",{attrs:{label:"PM2.5",prop:"devdata_PM25"}}),e._v(" "),a("el-table-column",{attrs:{label:"SO2",prop:"devdata_SO2"}}),e._v(" "),a("el-table-column",{attrs:{label:"NO2",prop:"devdata_NO2"}}),e._v(" "),a("el-table-column",{attrs:{label:"温度",prop:"devdata_temper"}}),e._v(" "),a("el-table-column",{attrs:{label:"湿度",prop:"devdata_damp"}}),e._v(" "),a("el-table-column",{attrs:{label:"风速",prop:"devdata_wspeed"}}),e._v(" "),a("el-table-column",{attrs:{label:"光照",prop:"devdata_light"}})],1)],1),e._v(" "),a("div",{staticClass:"block1",staticStyle:{"margin-left":"0"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticClass:"v1"},[e._v("站点总数：")]),e._v(" "),a("div",{staticClass:"c1"},[e._v(e._s(e.formInline.总站点数))]),e._v(" "),a("div",{staticClass:"v2"},[e._v("正常运行：")]),e._v(" "),a("div",{staticClass:"c2"},[e._v(e._s(e.formInline.正常站点数))]),e._v(" "),a("div",{staticClass:"v3"},[e._v("停止运行：")]),e._v(" "),a("div",{staticClass:"c3"},[e._v(e._s(e.formInline.停止站点数))])])},staticRenderFns:[]};var k=a("VU/8")(x,D,!1,function(e){a("eCYC")},"data-v-3a0d8b56",null).exports;function A(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}var S=a("XLwt"),z={data:function(){return{form:"",formInline:{type:""},Value1:"",tableData:[]}},mounted:function(){this.drawEchart1()},methods:{formatter:function(e,t){return e.address},onSubmit:function(){var e=this;this.Value1=A(this.Value1),g.get("/devicehis/单项数据统计",{params:{datafield:this.formInline.type,devdata_checktime:this.Value1}}).then(function(t){e.tableData=t.data.data;for(var a=[],i=[],l=[],n=0;n<e.tableData.length;n++)a.push(e.tableData[n].device_id),i.push(e.tableData[n].devdata_O3),l.push(e.tableData[n].device_id__grid_id_id);var o=i[0];i.forEach(function(e){return o=e>o?e:o}),e.edata1=a,e.edata2=i,e.ymax=o,e.drawEchart1()}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})})},drawEchart1:function(){for(var e=S.init(document.getElementById("echart1")),t=this,a=1.618*t.ymax,i=[],l=0;l<t.edata2.length;l++)i.push(a);var n={title:{left:"center",text:"设备单项数据图"},toolbox:{show:!0,itemSize:18,right:50,feature:{dataView:{show:!0},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:{data:t.edata1,axisLabel:{inside:!0,textStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1},z:10},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"}}},dataZoom:[{type:"inside"}],series:[{name:"设备号  阈值",type:"bar",itemStyle:{color:"rgba(0,0,0,0.05)"},barGap:"-100%",barCategoryGap:"25%",data:i,animation:!1},{name:"实时数据",type:"bar",itemStyle:{color:new S.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{itemStyle:{color:new S.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:t.edata2}]};e.on("click",function(a){console.log(t.edata1[Math.max(a.dataIndex-3,0)]),e.dispatchAction({type:"dataZoom",startValue:t.edata1[Math.max(a.dataIndex-3,0)],endValue:t.edata1[Math.min(a.dataIndex+3,t.edata2.length-1)]})}),e.setOption(n),window.addEventListener("resize",function(){e.resize()})}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"DataSta"}},[a("div",{staticClass:"div1"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"600",stripe:"","default-sort":{prop:"devdata_O3",order:"descending"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"device_id__grid_id_id",label:"网格编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"device_id",label:"设备编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"devdata_O3",label:"参数值",sortable:"",width:"100"}})],1)],1),e._v(" "),a("div",{staticClass:"echar1",attrs:{id:"echart1"}}),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("span",{staticClass:"demonstration"}),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.Value1,callback:function(t){e.Value1=t},expression:"Value1"}}),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"选择参数类型"},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},[a("el-option",{attrs:{label:"AQI",value:"devdata_AQI"}}),e._v(" "),a("el-option",{attrs:{label:"PM10",value:"devdata_PM10"}}),e._v(" "),a("el-option",{attrs:{label:"PM2.5",value:"devdata_PM2.5"}}),e._v(" "),a("el-option",{attrs:{label:"SO2",value:"devdata_SO2"}}),e._v(" "),a("el-option",{attrs:{label:"CO",value:"devdata_CO"}}),e._v(" "),a("el-option",{attrs:{label:"NO2",value:"devdata_NO2"}}),e._v(" "),a("el-option",{attrs:{label:"O3",value:"devdata_O3"}}),e._v(" "),a("el-option",{attrs:{label:"温度",value:"devdata_温度"}}),e._v(" "),a("el-option",{attrs:{label:"湿度",value:"devdata_湿度"}}),e._v(" "),a("el-option",{attrs:{label:"风速",value:"devdata_风速"}}),e._v(" "),a("el-option",{attrs:{label:"风压",value:"devdata_风压"}}),e._v(" "),a("el-option",{attrs:{label:"气压",value:"devdata_气压"}}),e._v(" "),a("el-option",{attrs:{label:"光照强度",value:"devdata_光照强度"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)},staticRenderFns:[]};var E=a("VU/8")(z,I,!1,function(e){a("L1O7")},"data-v-16f003fe",null).exports,T=a("XLwt"),V={name:"App",data:function(){return{form:"",formInline:{number:"",type:""},Value1:"",tableData:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},mounted:function(){this.drawEchart1()},methods:{formatter:function(e,t){return e.address},onSubmit:function(){var e=this;this.Value1[0]=A(this.Value1[0]),this.Value1[1]=A(this.Value1[1]);for(var t=0;t<this.Value1.length;t++)this.Value1[t]=/\d{4}-\d{2}-\d{2}/g.exec(this.Value1[t])[0];for(t=0;t<this.tableData.length;t++)this.Value1[0]<=this.tableData[t].date&&this.Value1[1]>=this.tableData[t].date&&this.tableData.push(this.tableData[t]);g.get("/devicehis/历史数据统计-设备id",{params:{datafield:this.formInline.type,start_time:this.Value1[0],end_time:this.Value1[1],device_id:this.formInline.number}}).then(function(t){e.tableData=t.data.data;for(var a=[],i=[],l=0;l<e.tableData.length;l++)a.push(e.tableData[l].devicehis_checktime),i.push(e.tableData[l].devicehis_O3);for(l=0;l<a.length;l++)a[l]=/\d{4}-\d{2}-\d{2}/g.exec(a[l])[0];for(var n=[],o=0;o<=a.length;o++)n[o]=[a[o],i[o]];i[0];e.edata3=n,e.drawEchart1()}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})})},drawEchart1:function(){var e=T.init(document.getElementById("echart1")),t=this.edata3,a={title:{left:"center",text:"历史数据图"},legend:{top:"bottom",data:["意向"]},tooltip:{triggerOn:"none",position:function(e){return[e[0],130]}},toolbox:{left:"center",itemSize:20,right:10,top:40,feature:{restore:{},dataView:{show:!0,readOnly:!0,lang:["","关闭"]},magicType:{type:["bar","line"]},saveAsImage:{}}},xAxis:{type:"category",axisPointer:{value:"2000-00-00",snap:!0,lineStyle:{color:"#004E52",opacity:.5,width:2},label:{show:!0,formatter:function(e){return T.format.formatTime("yyyy-MM-dd",e.value)},backgroundColor:"#004E52"},handle:{show:!0,color:"#004E52"}},splitLine:{show:!1}},yAxis:{type:"value",axisTick:{inside:!0},splitLine:{show:!1},axisLabel:{inside:!0,formatter:"{value}\n"},z:10},grid:{top:110,left:15,right:15,height:160},dataZoom:[{type:"inside",throttle:50}],series:[{name:"时间",type:"line"},{name:"      数据值",type:"line",smooth:!0,symbol:"circle",symbolSize:5,sampling:"average",itemStyle:{color:"#8ec6ad"},areaStyle:{color:new T.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#8ec6ad"},{offset:1,color:"#ffe"}])},data:t}]};e.setOption(a),window.addEventListener("resize",function(){e.resize()})}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"DataHis"}},[a("div",{staticClass:"div1"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"600",stripe:"","default-sort":{prop:"devicehis_checktime",order:"descending"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"devicehis_checktime",label:"日期",sortable:"",width:"190"}}),e._v(" "),a("el-table-column",{attrs:{prop:"devicehis_O3",label:"参数值",width:"100"}})],1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.Value1,callback:function(t){e.Value1=t},expression:"Value1"}}),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"输入设备编号"},model:{value:e.formInline.number,callback:function(t){e.$set(e.formInline,"number",t)},expression:"formInline.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"选择参数类型"},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},[a("el-option",{attrs:{label:"AQI",value:"devicehis_AQI"}}),e._v(" "),a("el-option",{attrs:{label:"PM10",value:"devicehis_PM10"}}),e._v(" "),a("el-option",{attrs:{label:"PM2.5",value:"devicehis_PM2.5"}}),e._v(" "),a("el-option",{attrs:{label:"SO2",value:"devicehis_SO2"}}),e._v(" "),a("el-option",{attrs:{label:"CO",value:"devicehis_CO"}}),e._v(" "),a("el-option",{attrs:{label:"NO2",value:"devicehis_NO2"}}),e._v(" "),a("el-option",{attrs:{label:"O3",value:"devicehis_O3"}}),e._v(" "),a("el-option",{attrs:{label:"温度",value:"devicehis_温度"}}),e._v(" "),a("el-option",{attrs:{label:"湿度",value:"devicehis_湿度"}}),e._v(" "),a("el-option",{attrs:{label:"风速",value:"devicehis_风速"}}),e._v(" "),a("el-option",{attrs:{label:"风压",value:"devicehis_风压"}}),e._v(" "),a("el-option",{attrs:{label:"气压",value:"devicehis_气压"}}),e._v(" "),a("el-option",{attrs:{label:"光照强度",value:"devicehis_光照强度"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),a("div",{staticClass:"echart",attrs:{id:"echart1"}})],1)])},staticRenderFns:[]};var F=a("VU/8")(V,L,!1,function(e){a("X+/T")},"data-v-7a598735",null).exports,$=a("XLwt"),B={data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},value:"",gridId:"",formInline:{},EchartData1:[]}},created:function(){this.GetAlarmInfo(),this.GetInformation()},mounted:function(){this.drawEchart1()},methods:{GetAlarmInfo:function(){var e=this;g.get("/ls/各项数据统计").then(function(t){e.formInline=t.data.data}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})})},queryInformation:function(){this.tableData=[],this.value[0]=A(this.value[0]),this.value[1]=A(this.value[1]);for(var e=0;e<this.tableDataAll.length;e++)this.value[0]<=this.tableDataAll[e].date&&this.value[1]>=this.tableDataAll[e].date&&this.tableData.push(this.tableDataAll[e])},GetInformation:function(){var e=this;g.get("/alarm/统计报警信息",{params:{start_time:this.value[0],end_time:this.value[1],grid_id:this.gridId}}).then(function(t){e.EchartData1=t.data.data;var a=[{value:e.EchartData1.未解决的报警数,name:"未解决"},{value:e.EchartData1.已处理未解决的报警数,name:"已处理未解决"},{value:e.EchartData1.已经解决的报警数,name:"已解决"}];e.edata1=a,e.drawEchart1()}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})})},drawEchart1:function(){var e=$.init(document.getElementById("echart1")),t={title:{left:"center",text:"报警数量统计图"},toolbox:{itemSize:16,right:10,feature:{dataView:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:10,data:["未解决","已处理未解决","已解决"]},series:[{name:"报警统计",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1},data:this.edata1}]};e.setOption(t),window.addEventListener("resize",function(){e.resize()})}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"AlarmManage"}},[a("div",{staticClass:"echar1",attrs:{id:"echart1"}}),e._v(" "),a("div",{staticClass:"block1"},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),a("div",{staticClass:"div1"},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入网格编号",clearable:""},model:{value:e.gridId,callback:function(t){e.gridId=t},expression:"gridId"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.queryInformation}},[e._v("查询")])],1)],1),e._v(" "),a("div",{staticClass:"div2"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"报警总数"}},[a("el-input",{attrs:{placeholder:"报警总数"},model:{value:e.formInline.报警设备,callback:function(t){e.$set(e.formInline,"报警设备",t)},expression:"formInline.报警设备"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"已处理"}},[a("el-input",{attrs:{placeholder:"已处理"},model:{value:e.formInline.已处理,callback:function(t){e.$set(e.formInline,"已处理",t)},expression:"formInline.已处理"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"未处理"}},[a("el-input",{attrs:{placeholder:"未处理"},model:{value:e.formInline.未处理,callback:function(t){e.$set(e.formInline,"未处理",t)},expression:"formInline.未处理"}})],1)],1)],1)])},staticRenderFns:[]};var M=a("VU/8")(B,O,!1,function(e){a("cCq2")},"data-v-c4189256",null).exports,P=(a("/66K"),a("XLwt")),U={data:function(){return{tableData:[{grid_tid:"1214234",device_id:"12313",value1:"323"},{grid_tid:"1214234",device_id:"12213",value1:"303"},{grid_tid:"1214234",device_id:"12211",value1:"223"},{grid_tid:"1214234",device_id:"122331",value1:"123"}],tableData1:[{data_type:"SO2",data_max:"113",data_time:"323"},{data_type:"NO2",data_max:"122",data_time:"98"},{data_type:"CO",data_max:"211",data_time:"223"},{data_type:"温度",data_max:"24",data_time:"23"}],tableData2:[{device_id:"12235",grid_admin:"wewe",alarm_type:"CO超限"},{device_id:"12312312",grid_admin:"eess",alarm_type:"AQI超限"},{device_id:"423423",grid_admin:"wqw",alarm_type:"设备离线"},{device_id:"23234",grid_admin:"zzz",alarm_type:"设备离线"}],input1:"",centerDialogVisible:!1,deviceId:"",EchartData1:[],EchartData2:[]}},created:function(){this.GetEchart1Data(),this.GetEchart2Data()},mounted:function(){this.drawEchart1(),this.drawEchart2(),this.drawEchart3(),this.drawEchart4()},methods:{GetEchart2Data:function(){var e=this;g.get("/ls/各项数据统计").then(function(t){e.EchartData2=t.data.data;var a=[{value:e.EchartData2.报警网格,name:"报警网格"},{value:e.EchartData2.正常网格,name:"正常网格"}],i=[{value:e.EchartData2.报警设备,name:"报警设备"},{value:e.EchartData2.正常设备,name:"正常设备"}],l=[{value:e.EchartData2.未处理,name:"已处理"},{value:e.EchartData2.已处理,name:"未处理"}];e.edata1=a,e.edata2=i,e.edata3=l,e.drawEchart2(),e.drawEchart3(),e.drawEchart4()}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})})},formatter:function(e,t){return e.address},onClick:function(){this.$router.push({path:"/"})},onSubmit:function(){console.log("submit!")},drawEchart1:function(){var e=P.init(document.getElementById("echart1")),t=[{name:"海门",value:9},{name:"鄂尔多斯",value:12},{name:"招远",value:12},{name:"舟山",value:12},{name:"齐齐哈尔",value:14},{name:"盐城",value:15},{name:"赤峰",value:16},{name:"青岛",value:18},{name:"乳山",value:18},{name:"金昌",value:19},{name:"泉州",value:21},{name:"莱西",value:21},{name:"日照",value:21},{name:"胶南",value:22},{name:"南通",value:23},{name:"拉萨",value:24},{name:"云浮",value:24},{name:"梅州",value:25},{name:"文登",value:25},{name:"上海",value:25},{name:"攀枝花",value:25},{name:"威海",value:25},{name:"承德",value:25},{name:"厦门",value:26},{name:"汕尾",value:26},{name:"潮州",value:26},{name:"丹东",value:27},{name:"太仓",value:27},{name:"曲靖",value:27},{name:"烟台",value:28},{name:"福州",value:29},{name:"瓦房店",value:30},{name:"即墨",value:30},{name:"抚顺",value:31},{name:"玉溪",value:31},{name:"张家口",value:31},{name:"阳泉",value:31},{name:"莱州",value:32},{name:"湖州",value:32},{name:"汕头",value:32},{name:"昆山",value:33},{name:"宁波",value:33},{name:"湛江",value:33},{name:"揭阳",value:34},{name:"荣成",value:34},{name:"连云港",value:35},{name:"葫芦岛",value:35},{name:"常熟",value:36},{name:"东莞",value:36},{name:"河源",value:36},{name:"淮安",value:36},{name:"泰州",value:36},{name:"南宁",value:37},{name:"营口",value:37},{name:"惠州",value:37},{name:"江阴",value:37},{name:"蓬莱",value:37},{name:"韶关",value:38},{name:"嘉峪关",value:38},{name:"广州",value:38},{name:"延安",value:38},{name:"太原",value:39},{name:"清远",value:39},{name:"中山",value:39},{name:"昆明",value:39},{name:"寿光",value:40},{name:"盘锦",value:40},{name:"长治",value:41},{name:"深圳",value:41},{name:"珠海",value:42},{name:"宿迁",value:43},{name:"咸阳",value:43},{name:"铜川",value:44},{name:"平度",value:44},{name:"佛山",value:44},{name:"海口",value:44},{name:"江门",value:45},{name:"章丘",value:45},{name:"肇庆",value:46},{name:"大连",value:47},{name:"临汾",value:47},{name:"吴江",value:47},{name:"石嘴山",value:49},{name:"沈阳",value:50},{name:"苏州",value:50},{name:"茂名",value:50},{name:"嘉兴",value:51},{name:"长春",value:51},{name:"胶州",value:52},{name:"银川",value:52},{name:"张家港",value:52},{name:"三门峡",value:53},{name:"锦州",value:54},{name:"南昌",value:54},{name:"柳州",value:54},{name:"三亚",value:54},{name:"自贡",value:56},{name:"吉林",value:56},{name:"阳江",value:57},{name:"泸州",value:57},{name:"西宁",value:57},{name:"宜宾",value:58},{name:"呼和浩特",value:58},{name:"成都",value:58},{name:"大同",value:58},{name:"镇江",value:59},{name:"桂林",value:59},{name:"张家界",value:59},{name:"宜兴",value:59},{name:"北海",value:60},{name:"西安",value:61},{name:"金坛",value:62},{name:"东营",value:62},{name:"牡丹江",value:63},{name:"遵义",value:63},{name:"绍兴",value:63},{name:"扬州",value:64},{name:"常州",value:64},{name:"潍坊",value:65},{name:"重庆",value:66},{name:"台州",value:67},{name:"南京",value:67},{name:"滨州",value:70},{name:"贵阳",value:71},{name:"无锡",value:71},{name:"本溪",value:71},{name:"克拉玛依",value:72},{name:"渭南",value:72},{name:"马鞍山",value:72},{name:"宝鸡",value:72},{name:"焦作",value:75},{name:"句容",value:75},{name:"北京",value:79},{name:"徐州",value:79},{name:"衡水",value:80},{name:"包头",value:80},{name:"绵阳",value:80},{name:"乌鲁木齐",value:84},{name:"枣庄",value:84},{name:"杭州",value:84},{name:"淄博",value:85},{name:"鞍山",value:86},{name:"溧阳",value:86},{name:"库尔勒",value:86},{name:"安阳",value:90},{name:"开封",value:90},{name:"济南",value:92},{name:"德阳",value:93},{name:"温州",value:95},{name:"九江",value:96},{name:"邯郸",value:98},{name:"临安",value:99},{name:"兰州",value:99},{name:"沧州",value:100},{name:"临沂",value:103},{name:"南充",value:104},{name:"天津",value:105},{name:"富阳",value:106},{name:"泰安",value:112},{name:"诸暨",value:112},{name:"郑州",value:113},{name:"哈尔滨",value:114},{name:"聊城",value:116},{name:"芜湖",value:117},{name:"唐山",value:119},{name:"平顶山",value:119},{name:"邢台",value:119},{name:"德州",value:120},{name:"济宁",value:120},{name:"荆州",value:127},{name:"宜昌",value:130},{name:"义乌",value:132},{name:"丽水",value:133},{name:"洛阳",value:134},{name:"秦皇岛",value:136},{name:"株洲",value:143},{name:"石家庄",value:147},{name:"莱芜",value:148},{name:"常德",value:152},{name:"保定",value:153},{name:"湘潭",value:154},{name:"金华",value:157},{name:"岳阳",value:169},{name:"长沙",value:175},{name:"衢州",value:177},{name:"廊坊",value:193},{name:"菏泽",value:194},{name:"合肥",value:229},{name:"武汉",value:273},{name:"大庆",value:279}],a={"海门":[121.15,31.89],"鄂尔多斯":[109.781327,39.608266],"招远":[120.38,37.35],"舟山":[122.207216,29.985295],"齐齐哈尔":[123.97,47.33],"盐城":[120.13,33.38],"赤峰":[118.87,42.28],"青岛":[120.33,36.07],"乳山":[121.52,36.89],"金昌":[102.188043,38.520089],"泉州":[118.58,24.93],"莱西":[120.53,36.86],"日照":[119.46,35.42],"胶南":[119.97,35.88],"南通":[121.05,32.08],"拉萨":[91.11,29.97],"云浮":[112.02,22.93],"梅州":[116.1,24.55],"文登":[122.05,37.2],"上海":[121.48,31.22],"攀枝花":[101.718637,26.582347],"威海":[122.1,37.5],"承德":[117.93,40.97],"厦门":[118.1,24.46],"汕尾":[115.375279,22.786211],"潮州":[116.63,23.68],"丹东":[124.37,40.13],"太仓":[121.1,31.45],"曲靖":[103.79,25.51],"烟台":[121.39,37.52],"福州":[119.3,26.08],"瓦房店":[121.979603,39.627114],"即墨":[120.45,36.38],"抚顺":[123.97,41.97],"玉溪":[102.52,24.35],"张家口":[114.87,40.82],"阳泉":[113.57,37.85],"莱州":[119.942327,37.177017],"湖州":[120.1,30.86],"汕头":[116.69,23.39],"昆山":[120.95,31.39],"宁波":[121.56,29.86],"湛江":[110.359377,21.270708],"揭阳":[116.35,23.55],"荣成":[122.41,37.16],"连云港":[119.16,34.59],"葫芦岛":[120.836932,40.711052],"常熟":[120.74,31.64],"东莞":[113.75,23.04],"河源":[114.68,23.73],"淮安":[119.15,33.5],"泰州":[119.9,32.49],"南宁":[108.33,22.84],"营口":[122.18,40.65],"惠州":[114.4,23.09],"江阴":[120.26,31.91],"蓬莱":[120.75,37.8],"韶关":[113.62,24.84],"嘉峪关":[98.289152,39.77313],"广州":[113.23,23.16],"延安":[109.47,36.6],"太原":[112.53,37.87],"清远":[113.01,23.7],"中山":[113.38,22.52],"昆明":[102.73,25.04],"寿光":[118.73,36.86],"盘锦":[122.070714,41.119997],"长治":[113.08,36.18],"深圳":[114.07,22.62],"珠海":[113.52,22.3],"宿迁":[118.3,33.96],"咸阳":[108.72,34.36],"铜川":[109.11,35.09],"平度":[119.97,36.77],"佛山":[113.11,23.05],"海口":[110.35,20.02],"江门":[113.06,22.61],"章丘":[117.53,36.72],"肇庆":[112.44,23.05],"大连":[121.62,38.92],"临汾":[111.5,36.08],"吴江":[120.63,31.16],"石嘴山":[106.39,39.04],"沈阳":[123.38,41.8],"苏州":[120.62,31.32],"茂名":[110.88,21.68],"嘉兴":[120.76,30.77],"长春":[125.35,43.88],"胶州":[120.03336,36.264622],"银川":[106.27,38.47],"张家港":[120.555821,31.875428],"三门峡":[111.19,34.76],"锦州":[121.15,41.13],"南昌":[115.89,28.68],"柳州":[109.4,24.33],"三亚":[109.511909,18.252847],"自贡":[104.778442,29.33903],"吉林":[126.57,43.87],"阳江":[111.95,21.85],"泸州":[105.39,28.91],"西宁":[101.74,36.56],"宜宾":[104.56,29.77],"呼和浩特":[111.65,40.82],"成都":[104.06,30.67],"大同":[113.3,40.12],"镇江":[119.44,32.2],"桂林":[110.28,25.29],"张家界":[110.479191,29.117096],"宜兴":[119.82,31.36],"北海":[109.12,21.49],"西安":[108.95,34.27],"金坛":[119.56,31.74],"东营":[118.49,37.46],"牡丹江":[129.58,44.6],"遵义":[106.9,27.7],"绍兴":[120.58,30.01],"扬州":[119.42,32.39],"常州":[119.95,31.79],"潍坊":[119.1,36.62],"重庆":[106.54,29.59],"台州":[121.420757,28.656386],"南京":[118.78,32.04],"滨州":[118.03,37.36],"贵阳":[106.71,26.57],"无锡":[120.29,31.59],"本溪":[123.73,41.3],"克拉玛依":[84.77,45.59],"渭南":[109.5,34.52],"马鞍山":[118.48,31.56],"宝鸡":[107.15,34.38],"焦作":[113.21,35.24],"句容":[119.16,31.95],"北京":[116.46,39.92],"徐州":[117.2,34.26],"衡水":[115.72,37.72],"包头":[110,40.58],"绵阳":[104.73,31.48],"乌鲁木齐":[87.68,43.77],"枣庄":[117.57,34.86],"杭州":[120.19,30.26],"淄博":[118.05,36.78],"鞍山":[122.85,41.12],"溧阳":[119.48,31.43],"库尔勒":[86.06,41.68],"安阳":[114.35,36.1],"开封":[114.35,34.79],"济南":[117,36.65],"德阳":[104.37,31.13],"温州":[120.65,28.01],"九江":[115.97,29.71],"邯郸":[114.47,36.6],"临安":[119.72,30.23],"兰州":[103.73,36.03],"沧州":[116.83,38.33],"临沂":[118.35,35.05],"南充":[106.110698,30.837793],"天津":[117.2,39.13],"富阳":[119.95,30.07],"泰安":[117.13,36.18],"诸暨":[120.23,29.71],"郑州":[113.65,34.76],"哈尔滨":[126.63,45.75],"聊城":[115.97,36.45],"芜湖":[118.38,31.33],"唐山":[118.02,39.63],"平顶山":[113.29,33.75],"邢台":[114.48,37.05],"德州":[116.29,37.45],"济宁":[116.59,35.38],"荆州":[112.239741,30.335165],"宜昌":[111.3,30.7],"义乌":[120.06,29.32],"丽水":[119.92,28.45],"洛阳":[112.44,34.7],"秦皇岛":[119.57,39.95],"株洲":[113.16,27.83],"石家庄":[114.48,38.03],"莱芜":[117.67,36.19],"常德":[111.69,29.05],"保定":[115.48,38.85],"湘潭":[112.91,27.87],"金华":[119.64,29.12],"岳阳":[113.09,29.37],"长沙":[113,28.21],"衢州":[118.88,28.97],"廊坊":[116.7,39.53],"菏泽":[115.480656,35.23375],"合肥":[117.27,31.86],"武汉":[114.31,30.52],"大庆":[125.03,46.58]},i=function(e){for(var t=[],i=0;i<e.length;i++){var l=a[e[i].name];l&&t.push({name:e[i].name,value:l.concat(e[i].value)})}return t};var l={backgroundColor:"transparent",title:{text:"实时空气指数监测",subtext:"data from AQI",left:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item"},bmap:{center:[104.114129,37.550339],roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#044161"}},{featureType:"land",elementType:"all",stylers:{color:"#004981"}},{featureType:"boundary",elementType:"geometry",stylers:{color:"#064f85"}},{featureType:"railway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"geometry",stylers:{color:"#004981"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#005b96",lightness:1}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry",stylers:{color:"#004981"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#00508b"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"green",elementType:"all",stylers:{color:"#056197",visibility:"off"}},{featureType:"subway",elementType:"all",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"all",stylers:{visibility:"off"}},{featureType:"local",elementType:"all",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off"}},{featureType:"boundary",elementType:"geometry.fill",stylers:{color:"#029fd4"}},{featureType:"building",elementType:"all",stylers:{color:"#1a5787"}},{featureType:"label",elementType:"all",stylers:{visibility:"off"}}]}},series:[{name:"pm2.5",type:"scatter",coordinateSystem:"bmap",data:i(t),encode:{value:2},symbolSize:function(e){return e[2]/10},label:{formatter:"{b}",position:"right"},itemStyle:{color:"#ddb926"},emphasis:{label:{show:!0}}},{name:"Top 5",type:"effectScatter",coordinateSystem:"bmap",data:i(t.sort(function(e,t){return t.value-e.value}).slice(0,6)),encode:{value:2},symbolSize:function(e){return e[2]/10},showEffectOn:"emphasis",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{formatter:"{b}",position:"right",show:!0},itemStyle:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"},zlevel:1},{type:"custom",coordinateSystem:"bmap",renderItem:function(e,t){for(var a=[],i=[],l=0;l<a.length;l++)i.push(t.coord(a[l]));var n=t.visual("color");return{type:"polygon",shape:{points:P.graphic.clipPointsByRect(i,{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height})},style:t.style({fill:n,stroke:P.color.lift(n)})}},itemStyle:{opacity:.5},animation:!1,silent:!0,data:[0],z:-10}]};e.setOption(l),window.addEventListener("resize",function(){e.resize()})},drawEchart2:function(){var e=P.init(document.getElementById("echart2"));e.setOption({title:{left:"center",text:"网格数量统计图"},toolbox:{itemSize:16,left:250,feature:{dataView:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:10,data:["报警网格","正常网格"]},series:[{name:"网格统计",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:35,name:"报警网格"},{value:31,name:"正常网格"}]}]}),window.addEventListener("resize",function(){e.resize()})},drawEchart3:function(){var e=P.init(document.getElementById("echart3"));e.setOption({title:{left:"center",text:"设备数量统计图"},toolbox:{itemSize:16,left:250,feature:{dataView:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:10,data:["报警设备","正常设备"]},series:[{name:"设备统计",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:43,name:"报警设备"},{value:234,name:"正常设备"}]}]}),window.addEventListener("resize",function(){e.resize()})},drawEchart4:function(){var e=P.init(document.getElementById("echart4"));e.setOption({title:{left:"center",text:"报警数量统计图"},toolbox:{itemSize:16,left:250,feature:{dataView:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:10,data:["已处理","未处理"]},series:[{name:"报警统计",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:335,name:"已处理"},{value:67,name:"未处理"}]}]}),window.addEventListener("resize",function(){e.resize()})}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"LargeScreen"}},[a("div",{staticClass:"div1",staticStyle:{"font-size":"18px"}},[e._v("网格空气指数排行:\n      "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"250",border:"",stripe:"","default-sort":{prop:"value1",order:"descending"}}},[a("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grid_tid",label:"网格号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"device_id",label:"设备号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",prop:"value1",label:"AQI",sortable:"",width:"80"}})],1)],1),e._v(" "),a("div",{staticClass:"div2"},[a("el-input",{staticStyle:{width:"235px"},attrs:{size:"small",placeholder:"请输入设备编号",clearable:""},model:{value:e.deviceId,callback:function(t){e.deviceId=t},expression:"deviceId"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("div",[e._v("设备实时数据：\n      "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData1,height:"275",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"data_type",label:"数据类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"data_max",label:"阈值",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"data_time",label:"数值",width:"100"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"div4"},[a("el-button",{staticStyle:{"font-size":"22px"},attrs:{type:"text"},on:{click:function(t){e.centerDialogVisible=!0}}},[e._v("报警管理：\n      ")]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("span",[e._v("请确认是否前往报警管理页面")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onClick}},[e._v("确 定")])],1)])],1),e._v(" "),a("div",{staticClass:"div5"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData2,height:"100",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"device_id",label:"设备编号",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grid_admin",label:"网格负责人",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"alarm_type",label:"报警类型",width:"162"}})],1)],1),e._v(" "),a("div",{staticClass:"echar1",attrs:{id:"echart1"}}),e._v(" "),a("div",{staticClass:"echar2",attrs:{id:"echart2"}}),e._v(" "),a("div",{staticClass:"echar3",attrs:{id:"echart3"}}),e._v(" "),a("div",{staticClass:"echar4",attrs:{id:"echart4"}})])},staticRenderFns:[]};var Q=a("VU/8")(U,N,!1,function(e){a("nO2M")},"data-v-2c890ec4",null).exports,W={name:"App",components:{},data:function(){return{currentPage:1,size:5,tableData:[],tableDataAll:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},value:"",form:{userType:"",user:""}}},created:function(){this.getAllData()},methods:{getAllData:function(){var e=this;g.get("/logs/日志").then(function(t){e.tableData=t.data.data.results}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})})},handleSizeChange:function(e){this.size=e},handleCurrentChange:function(e){this.currentPage=e},queryInformation:function(){var e=this;this.value[0]=A(this.value[0]),this.value[1]=A(this.value[1]),g.get("/logs/日志管理",{param:{start_time:this.value[0],end_time:this.value[1]}}).then(function(e){}).catch(function(t){e.$notify.error({title:"失败",message:"获取数据失败"})})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"LogManage"}},[a("div",{staticClass:"tip"},[a("el-button",{attrs:{type:"primary"},on:{click:e.queryInformation}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"tip1"},[e._v("选择时间范围")]),e._v(" "),a("el-table",{staticStyle:{width:"74.5%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.size,e.currentPage*e.size),border:""}},[a("el-table-column",{attrs:{prop:"log_user",label:"用户名",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"log_ip",label:"用户ip",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"log_content",label:"日志内容",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"log_addtime",label:"时间",width:"250"}})],1),e._v(" "),a("div",{staticClass:"block1",staticStyle:{"margin-left":"0"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15,20],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticClass:"block2"},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},staticRenderFns:[]};var j=a("VU/8")(W,R,!1,function(e){a("BnsT")},"data-v-e59c3ca6",null).exports;i.default.use(r.a);var G=new r.a({routes:[{path:"/",redirect:"/GridManage",name:"Home",component:m,children:[{path:"/UserManage",name:"UserManage",component:v},{path:"/GridManage",name:"GridManage",component:h},{path:"/EquipManage",name:"EquipManage",component:w},{path:"/DataAnalysis",name:"DataAnalysis",component:k},{path:"/DataHis",name:"DataHis",component:F},{path:"/DataSta",name:"DataSta",component:E},{path:"/AlarmManage",name:"AlarmManage",component:M},{path:"/LogManage",name:"LogManage",component:j}]},{path:"/LargeScreen",name:"LargeScreen",component:Q}]});i.default.use(o.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:G,components:{App:l.default},template:"<App/>"})},PlDz:function(e,t){},"X+/T":function(e,t){},cCq2:function(e,t){},eCYC:function(e,t){},gyiw:function(e,t){},nO2M:function(e,t){},qJcr:function(e,t,a){e.exports=a.p+"static/img/gonggongyunfuwu.bc95d6a.png"},s0SM:function(e,t){},tvR6:function(e,t){},xJD8:function(e,t){}},["NHnr"]);